<div ng-controller = 'CustomersController'>

	<nav class = 'navbar navbar-default'>
		<div class = 'container-fluid'>
			<ul class="nav navbar-nav">
                <li>
                    <a href="#/">Dashboard</a>
                </li>
                <li>
                    <a href="/#products">Products</a>
                </li>
                <li>
                    <a href="#/orders">Orders</a>
                </li>
                <li class = 'active'>
                    <a href="#/customers">Customers</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class = 'container-fluid'>
    	<div class = 'col-md-6'>
			<h3>Add a new customer</h3>
			<p class = 'text-danger' ng-repeat = 'error in errors' ng-bind = 'error'></p>
			<form ng-submit = 'add()' class = 'form-horizontal'>
				<label class = 'control-label'>Customer Name:</label>
				<input class = 'form-control' type = 'text' ng-model = 'newCustomer.name'>
				<br>
				<input type = 'submit' value = 'Add' class = 'btn btn-primary pull-right'>
			</form>
		</div>

		<div class = 'col-md-7'>
			<h3>All Customers</h3>
			<input class = 'pull-right' type = 'text' placeholder = 'Search name...' ng-model = 'filter_name'>
			<table class = 'table table-bordered table-striped'>
				<thead>
					<tr>
						<th>Customer Name</th>
						<th>
							<a href = '' ng-click = "sortType = 'date'; sortReverse = !sortReverse">Created Date</a>
							<span ng-show = "sortType == 'date' && !sortReverse">v</span>
							<span ng-show = "sortType == 'date' && sortReverse">^</span>
						</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat = "customer in customers | orderBy:sortType:sortReverse | filter:filter_name track by $index">
						<td ng-bind = 'customer.name'></td>
						<td ng-bind = 'customer.createdAt | date: "longDate"'></td>
						<td><button ng-click = 'delete(customer)'>Remove</button></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

</div>